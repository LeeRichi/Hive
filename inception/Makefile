NAME=inception
COMPOSE=docker-compose -f srcs/docker-compose.yml

.PHONY: all up down clean fclean re

all: up

up:
	@echo "ðŸš€ Starting $(NAME)..."
	@$(COMPOSE) up -d --build

down:
	@echo "ðŸ›‘ Stopping $(NAME)..."
	@$(COMPOSE) down

clean:
	@echo "ðŸ§¹ Cleaning containers and volumes..."
	@$(COMPOSE) down --volumes --remove-orphans

fclean: clean
	@echo "ðŸ”¥ Removing unused Docker data..."
	@docker system prune -af --volumes
	@docker rmi $$(docker images -f "dangling=true" -q) 2>/dev/null || true

re: fclean all
